import{u as g,r as v,j as e,H as f}from"./app-BhJr64Io.js";import{A as b,a as c}from"./app-layout-DxnHe2Ps.js";import{B as n}from"./index-B1KPLk6u.js";import{C,a as N,b as y,c as _}from"./card-BjkkdsxM.js";import{I as o}from"./input-D-97mBiI.js";import{L as s}from"./label-B5Tb8Kqf.js";import{T as w}from"./textarea-Ct_wx_bF.js";import{U as F}from"./upload-BtfiqJgC.js";import{X as P}from"./index-BKfeb9Yo.js";/* empty css            */import"./index-tU5oWaZl.js";import"./index-CFyF2xbQ.js";import"./index-LoYgfw8t.js";import"./index-F4I9nMVa.js";import"./index-CxakdeFI.js";import"./users-dUMLyZnq.js";import"./briefcase-DKZee5n9.js";const k=[{title:"Admin Dashboard",href:c.dashboard().url},{title:"Popups",href:c.popups.index().url},{title:"Create Popup"}];function M(){const{data:r,setData:a,post:u,processing:h,errors:i}=g({title:"",content:"",image_path:null,active:!0,start_date:"",end_date:""}),[m,p]=v.useState(null),x=t=>{const l=t.target.files?.[0];if(l){a("image_path",l);const d=new FileReader;d.onloadend=()=>p(d.result),d.readAsDataURL(l)}},j=t=>{t.preventDefault(),u(c.popups.store().url,{forceFormData:!0})};return e.jsxs(b,{breadcrumbs:k,children:[e.jsx(f,{title:"Create Popup"}),e.jsxs(C,{children:[e.jsx(N,{children:e.jsx(y,{children:"Create New Popup"})}),e.jsx(_,{children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"title",children:"Title *"}),e.jsx(o,{id:"title",value:r.title,onChange:t=>a("title",t.target.value),required:!0}),i.title&&e.jsx("p",{className:"text-sm text-destructive",children:i.title})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"active",checked:r.active,onChange:t=>a("active",t.target.checked),className:"rounded"}),e.jsx(s,{htmlFor:"active",children:"Active"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"start_date",children:"Start Date"}),e.jsx(o,{id:"start_date",type:"datetime-local",value:r.start_date,onChange:t=>a("start_date",t.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"end_date",children:"End Date"}),e.jsx(o,{id:"end_date",type:"datetime-local",value:r.end_date,onChange:t=>a("end_date",t.target.value)})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(s,{htmlFor:"content",children:"Content *"}),e.jsx(w,{id:"content",value:r.content,onChange:t=>a("content",t.target.value),rows:6,required:!0}),i.content&&e.jsx("p",{className:"text-sm text-destructive",children:i.content})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{children:"Image"}),m?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:m,alt:"Preview",className:"w-full max-h-64 object-contain rounded-lg border"}),e.jsx(n,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:()=>{a("image_path",null),p(null)},children:e.jsx(P,{className:"h-4 w-4"})})]}):e.jsxs("label",{htmlFor:"image_path",className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-lg cursor-pointer bg-muted/50 hover:bg-muted",children:[e.jsx(F,{className:"w-8 h-8 mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Click to upload"}),e.jsx("input",{id:"image_path",type:"file",className:"hidden",accept:"image/*",onChange:x})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"}),e.jsx(n,{type:"submit",disabled:h,children:"Create Popup"})]})]})})]})]})}export{M as default};
