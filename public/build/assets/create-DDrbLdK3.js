import{u as f,j as e,H as C,L as u}from"./app-D1LAGhTd.js";import{B as c}from"./index-vPf-Y1-R.js";import{C as g,a as N,b as k,d as y,c as S}from"./card-D3Kjjj0N.js";import{I as T}from"./input-2wOvfimF.js";import{L as d}from"./label-DT3Icknr.js";import{S as n,a as m,b as o,c as x,d as a}from"./select-DRY51T86.js";import{T as b}from"./textarea-CppY9cJO.js";import{A,a as l}from"./app-layout-D594Jykp.js";import{A as F}from"./arrow-left-OXtYOg1D.js";/* empty css            */import"./index-C4zk7_bo.js";import"./index-Cs5eqXL-.js";import"./index-DKfxItpY.js";import"./index-BrZvrmiQ.js";import"./index-Cflb32EF.js";import"./index-CAy3Klzb.js";import"./check-CZF3rWK4.js";import"./index-CxakdeFI.js";import"./users-DqbY7U1g.js";import"./briefcase-D2j7oob_.js";const L=[{title:"Tasks",href:l.tasks.index().url},{title:"Create Task",href:l.tasks.create().url}];function Y({service_requests:j,technicians:p}){const{data:r,setData:i,post:v,processing:h,errors:t}=f({service_request_id:"",user_id:"",status:"pending",scheduled_date:"",comments:""}),_=s=>{s.preventDefault(),v(l.tasks.store().url)};return e.jsxs(A,{breadcrumbs:L,children:[e.jsx(C,{title:"Create Task"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u,{href:l.tasks.index().url,children:e.jsx(c,{variant:"outline",size:"icon",children:e.jsx(F,{className:"h-4 w-4"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Create Task"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Assign a new task to a technician"})]})]}),e.jsxs(g,{children:[e.jsxs(N,{children:[e.jsx(k,{children:"Task Details"}),e.jsx(y,{children:"Fill in the information to create a new task"})]}),e.jsx(S,{children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"service_request_id",children:"Service Request *"}),e.jsxs(n,{value:r.service_request_id,onValueChange:s=>i("service_request_id",s),children:[e.jsx(m,{children:e.jsx(o,{placeholder:"Select a service request"})}),e.jsx(x,{children:j.map(s=>e.jsxs(a,{value:s.id,children:[s.name," -"," ",s.service]},s.id))})]}),t.service_request_id&&e.jsx("p",{className:"text-sm text-destructive",children:t.service_request_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"user_id",children:"Assign to Technician *"}),e.jsxs(n,{value:r.user_id,onValueChange:s=>i("user_id",s),children:[e.jsx(m,{children:e.jsx(o,{placeholder:"Select a technician"})}),e.jsx(x,{children:p.map(s=>e.jsxs(a,{value:s.id,children:[s.name," - ",s.email]},s.id))})]}),t.user_id&&e.jsx("p",{className:"text-sm text-destructive",children:t.user_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"status",children:"Status *"}),e.jsxs(n,{value:r.status,onValueChange:s=>i("status",s),children:[e.jsx(m,{children:e.jsx(o,{})}),e.jsxs(x,{children:[e.jsx(a,{value:"pending",children:"Pending"}),e.jsx(a,{value:"in_progress",children:"In Progress"}),e.jsx(a,{value:"completed",children:"Completed"}),e.jsx(a,{value:"cancelled",children:"Cancelled"})]})]}),t.status&&e.jsx("p",{className:"text-sm text-destructive",children:t.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"scheduled_date",children:"Scheduled Date"}),e.jsx(T,{id:"scheduled_date",type:"date",value:r.scheduled_date,onChange:s=>i("scheduled_date",s.target.value)}),t.scheduled_date&&e.jsx("p",{className:"text-sm text-destructive",children:t.scheduled_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"comments",children:"Comments"}),e.jsx(b,{id:"comments",placeholder:"Add any additional notes or instructions...",value:r.comments,onChange:s=>i("comments",s.target.value),rows:4}),t.comments&&e.jsx("p",{className:"text-sm text-destructive",children:t.comments})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[e.jsx(u,{href:l.tasks.index().url,children:e.jsx(c,{variant:"outline",type:"button",children:"Cancel"})}),e.jsx(c,{type:"submit",disabled:h,children:h?"Creating...":"Create Task"})]})]})})]})]})]})}export{Y as default};
