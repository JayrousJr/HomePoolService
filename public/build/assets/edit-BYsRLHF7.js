import{u as C,j as e,H as N,L as p}from"./app-CEhOyuEq.js";import{B as n}from"./index-B5BMDlaW.js";import{C as b,a as y,b as S,d as T,c as k}from"./card-C6xIPAkb.js";import{I as q}from"./input-CqJ7gKDn.js";import{L as l}from"./label-C28kByvd.js";import{S as m,a as o,b as u,c as x,d as a}from"./select-BSm6x5R_.js";import{T as A}from"./textarea-Bd3MGy2l.js";import{a as c,A as F}from"./app-layout-qv8ACZQa.js";import{A as L}from"./arrow-left-DQlpXhVf.js";/* empty css            */import"./index-Dpl9OS0_.js";import"./index-6rwRs--v.js";import"./index-Cv2oy8P0.js";import"./index-CFvF-amq.js";import"./index-D68zCc96.js";import"./index-B0J19GKd.js";import"./check-C4n9FP4n.js";import"./avatar-jnhZ3xiv.js";import"./index-CxakdeFI.js";import"./users-DzjVS0YB.js";import"./briefcase-D18V7VDI.js";function Z({task:t,service_requests:j,technicians:v}){const _=[{title:"Tasks",href:c.tasks.index().url},{title:`Edit Task #${t.id.substring(0,8)}`,href:c.tasks.edit({task:t.id}).url}],{data:r,setData:d,put:f,processing:h,errors:i}=C({service_request_id:t.service_request_id||"",user_id:t.user_id||"",status:t.status||"pending",scheduled_date:t.scheduled_date||"",comments:t.comments||""}),g=s=>{s.preventDefault(),f(c.tasks.update({task:t.id}).url)};return e.jsxs(F,{breadcrumbs:_,children:[e.jsx(N,{title:`Edit Task #${t.id.substring(0,8)}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(p,{href:c.tasks.index().url,children:e.jsx(n,{variant:"outline",size:"icon",children:e.jsx(L,{className:"h-4 w-4"})})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["Edit Task #",t.id.substring(0,8)]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Update task details and status"})]})]}),e.jsxs(b,{children:[e.jsxs(y,{children:[e.jsx(S,{children:"Task Details"}),e.jsx(T,{children:"Update the task information"})]}),e.jsx(k,{children:e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"service_request_id",children:"Service Request *"}),e.jsxs(m,{value:r.service_request_id,onValueChange:s=>d("service_request_id",s),children:[e.jsx(o,{children:e.jsx(u,{placeholder:"Select a service request"})}),e.jsx(x,{children:j.map(s=>e.jsxs(a,{value:s.id,children:[s.name," - ",s.service]},s.id))})]}),i.service_request_id&&e.jsx("p",{className:"text-sm text-destructive",children:i.service_request_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"user_id",children:"Assign to Technician *"}),e.jsxs(m,{value:r.user_id,onValueChange:s=>d("user_id",s),children:[e.jsx(o,{children:e.jsx(u,{placeholder:"Select a technician"})}),e.jsx(x,{children:v.map(s=>e.jsxs(a,{value:s.id,children:[s.name," - ",s.email]},s.id))})]}),i.user_id&&e.jsx("p",{className:"text-sm text-destructive",children:i.user_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"status",children:"Status *"}),e.jsxs(m,{value:r.status,onValueChange:s=>d("status",s),children:[e.jsx(o,{children:e.jsx(u,{})}),e.jsxs(x,{children:[e.jsx(a,{value:"pending",children:"Pending"}),e.jsx(a,{value:"in_progress",children:"In Progress"}),e.jsx(a,{value:"completed",children:"Completed"}),e.jsx(a,{value:"cancelled",children:"Cancelled"})]})]}),i.status&&e.jsx("p",{className:"text-sm text-destructive",children:i.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"scheduled_date",children:"Scheduled Date"}),e.jsx(q,{id:"scheduled_date",type:"date",value:r.scheduled_date,onChange:s=>d("scheduled_date",s.target.value)}),i.scheduled_date&&e.jsx("p",{className:"text-sm text-destructive",children:i.scheduled_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"comments",children:"Comments"}),e.jsx(A,{id:"comments",placeholder:"Add any additional notes or instructions...",value:r.comments,onChange:s=>d("comments",s.target.value),rows:4}),i.comments&&e.jsx("p",{className:"text-sm text-destructive",children:i.comments})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[e.jsx(p,{href:c.tasks.index().url,children:e.jsx(n,{variant:"outline",type:"button",children:"Cancel"})}),e.jsx(n,{type:"submit",disabled:h,children:h?"Updating...":"Update Task"})]})]})})]})]})]})}export{Z as default};
