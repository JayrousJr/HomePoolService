import{u as C,j as e,H as N,L as p}from"./app-D1LAGhTd.js";import{B as n}from"./index-vPf-Y1-R.js";import{C as b,a as y,b as S,d as T,c as k}from"./card-D3Kjjj0N.js";import{I as q}from"./input-2wOvfimF.js";import{L as l}from"./label-DT3Icknr.js";import{S as m,a as o,b as u,c as x,d as i}from"./select-DRY51T86.js";import{T as A}from"./textarea-CppY9cJO.js";import{a as c,A as F}from"./app-layout-D594Jykp.js";import{A as L}from"./arrow-left-OXtYOg1D.js";/* empty css            */import"./index-C4zk7_bo.js";import"./index-Cs5eqXL-.js";import"./index-DKfxItpY.js";import"./index-BrZvrmiQ.js";import"./index-Cflb32EF.js";import"./index-CAy3Klzb.js";import"./check-CZF3rWK4.js";import"./index-CxakdeFI.js";import"./users-DqbY7U1g.js";import"./briefcase-D2j7oob_.js";function Y({task:t,service_requests:j,technicians:v}){const _=[{title:"Tasks",href:c.tasks.index().url},{title:`Edit Task #${t.id.substring(0,8)}`,href:c.tasks.edit({task:t.id}).url}],{data:d,setData:r,put:f,processing:h,errors:a}=C({service_request_id:t.service_request_id||"",user_id:t.user_id||"",status:t.status||"pending",scheduled_date:t.scheduled_date||"",comments:t.comments||""}),g=s=>{s.preventDefault(),f(c.tasks.update({task:t.id}).url)};return e.jsxs(F,{breadcrumbs:_,children:[e.jsx(N,{title:`Edit Task #${t.id.substring(0,8)}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(p,{href:c.tasks.index().url,children:e.jsx(n,{variant:"outline",size:"icon",children:e.jsx(L,{className:"h-4 w-4"})})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["Edit Task #",t.id.substring(0,8)]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Update task details and status"})]})]}),e.jsxs(b,{children:[e.jsxs(y,{children:[e.jsx(S,{children:"Task Details"}),e.jsx(T,{children:"Update the task information"})]}),e.jsx(k,{children:e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"service_request_id",children:"Service Request *"}),e.jsxs(m,{value:d.service_request_id,onValueChange:s=>r("service_request_id",s),children:[e.jsx(o,{children:e.jsx(u,{placeholder:"Select a service request"})}),e.jsx(x,{children:j.map(s=>e.jsxs(i,{value:s.id,children:[s.name," - ",s.service]},s.id))})]}),a.service_request_id&&e.jsx("p",{className:"text-sm text-destructive",children:a.service_request_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"user_id",children:"Assign to Technician *"}),e.jsxs(m,{value:d.user_id,onValueChange:s=>r("user_id",s),children:[e.jsx(o,{children:e.jsx(u,{placeholder:"Select a technician"})}),e.jsx(x,{children:v.map(s=>e.jsxs(i,{value:s.id,children:[s.name," - ",s.email]},s.id))})]}),a.user_id&&e.jsx("p",{className:"text-sm text-destructive",children:a.user_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"status",children:"Status *"}),e.jsxs(m,{value:d.status,onValueChange:s=>r("status",s),children:[e.jsx(o,{children:e.jsx(u,{})}),e.jsxs(x,{children:[e.jsx(i,{value:"pending",children:"Pending"}),e.jsx(i,{value:"in_progress",children:"In Progress"}),e.jsx(i,{value:"completed",children:"Completed"}),e.jsx(i,{value:"cancelled",children:"Cancelled"})]})]}),a.status&&e.jsx("p",{className:"text-sm text-destructive",children:a.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"scheduled_date",children:"Scheduled Date"}),e.jsx(q,{id:"scheduled_date",type:"date",value:d.scheduled_date,onChange:s=>r("scheduled_date",s.target.value)}),a.scheduled_date&&e.jsx("p",{className:"text-sm text-destructive",children:a.scheduled_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"comments",children:"Comments"}),e.jsx(A,{id:"comments",placeholder:"Add any additional notes or instructions...",value:d.comments,onChange:s=>r("comments",s.target.value),rows:4}),a.comments&&e.jsx("p",{className:"text-sm text-destructive",children:a.comments})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[e.jsx(p,{href:c.tasks.index().url,children:e.jsx(n,{variant:"outline",type:"button",children:"Cancel"})}),e.jsx(n,{type:"submit",disabled:h,children:h?"Updating...":"Update Task"})]})]})})]})]})]})}export{Y as default};
