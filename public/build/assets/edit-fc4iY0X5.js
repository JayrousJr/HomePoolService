import{u as N,r as f,j as e,H as b}from"./app-B0Jizh-L.js";import{a as m,A as F}from"./app-layout-D7HO4Yb7.js";import{B as p}from"./index-BWaU8IBa.js";import{C as _,a as w,b as z,c as E}from"./card-rS31rigE.js";import{I as d}from"./input-DCzudUG7.js";import{L as r}from"./label-DhiVPo-Y.js";import{T as D}from"./textarea-CMekilF2.js";import{X as L}from"./index-8nTJdkPq.js";import{U as k}from"./upload-BTSFMJVN.js";/* empty css            */import"./index-BWD6aMip.js";import"./index-Bj7AyDV2.js";import"./index-ClE9cJ9F.js";import"./index-B5-feoWS.js";import"./index-CxakdeFI.js";import"./users-a9M96KnK.js";import"./briefcase-CQq3lcCH.js";function O({companyInfo:a}){const u=[{title:"Admin Dashboard",href:m.dashboard().url},{title:"Company Info",href:m.companyInfo.index().url},{title:"Edit Company Info"}],{data:l,setData:i,post:j,processing:g,errors:t}=N({name:a.name,email:a.email,phone:a.phone,address:a.address||"",city:a.city||"",state:a.state||"",zip:a.zip||"",description:a.description||"",logo_path:null,_method:"PUT"}),[h,x]=f.useState(null),v=s=>{const n=s.target.files?.[0];if(n){i("logo_path",n);const c=new FileReader;c.onloadend=()=>{x(c.result)},c.readAsDataURL(n)}},y=()=>{i("logo_path",null),x(null)},C=s=>{s.preventDefault(),j(m.companyInfo.update({company_info:a.id}).url,{forceFormData:!0})},o=h||(a.logo_path?`/storage/${a.logo_path}`:null);return e.jsxs(F,{breadcrumbs:u,children:[e.jsx(b,{title:"Edit Company Info"}),e.jsxs(_,{children:[e.jsx(w,{children:e.jsx(z,{children:"Edit Company Information"})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"name",children:"Company Name *"}),e.jsx(d,{id:"name",value:l.name,onChange:s=>i("name",s.target.value),required:!0}),t.name&&e.jsx("p",{className:"text-sm text-destructive",children:t.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"email",children:"Email *"}),e.jsx(d,{id:"email",type:"email",value:l.email,onChange:s=>i("email",s.target.value),required:!0}),t.email&&e.jsx("p",{className:"text-sm text-destructive",children:t.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"phone",children:"Phone *"}),e.jsx(d,{id:"phone",value:l.phone,onChange:s=>i("phone",s.target.value),required:!0}),t.phone&&e.jsx("p",{className:"text-sm text-destructive",children:t.phone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"address",children:"Address"}),e.jsx(d,{id:"address",value:l.address,onChange:s=>i("address",s.target.value)}),t.address&&e.jsx("p",{className:"text-sm text-destructive",children:t.address})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"city",children:"City"}),e.jsx(d,{id:"city",value:l.city,onChange:s=>i("city",s.target.value)}),t.city&&e.jsx("p",{className:"text-sm text-destructive",children:t.city})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"state",children:"State"}),e.jsx(d,{id:"state",value:l.state,onChange:s=>i("state",s.target.value)}),t.state&&e.jsx("p",{className:"text-sm text-destructive",children:t.state})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"zip",children:"ZIP Code"}),e.jsx(d,{id:"zip",value:l.zip,onChange:s=>i("zip",s.target.value)}),t.zip&&e.jsx("p",{className:"text-sm text-destructive",children:t.zip})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(r,{htmlFor:"description",children:"Description"}),e.jsx(D,{id:"description",value:l.description,onChange:s=>i("description",s.target.value),rows:4}),t.description&&e.jsx("p",{className:"text-sm text-destructive",children:t.description})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"logo_path",children:"Company Logo"}),e.jsxs("div",{className:"space-y-4",children:[o&&e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:o,alt:"Company Logo",className:"w-full max-h-48 object-contain rounded-lg border"}),h&&e.jsx(p,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:y,children:e.jsx(L,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{htmlFor:"logo_path",className:"flex items-center gap-2 px-4 py-2 border-2 border-dashed rounded-lg cursor-pointer bg-muted/50 hover:bg-muted transition-colors",children:[e.jsx(k,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:o?"Click to upload a new logo":"Click to upload logo"}),e.jsx("input",{id:"logo_path",type:"file",className:"hidden",accept:"image/*",onChange:v})]})})]}),t.logo_path&&e.jsx("p",{className:"text-sm text-destructive",children:t.logo_path})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"}),e.jsx(p,{type:"submit",disabled:g,children:"Update Company Info"})]})]})})]})]})}export{O as default};
