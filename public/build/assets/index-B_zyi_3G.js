import{j as e,H as c,L as d,a as n}from"./app-D1LAGhTd.js";import{B as m}from"./badge-D83v_4ym.js";import{B as a}from"./index-vPf-Y1-R.js";import{C as x,a as u,b as h,c as p}from"./card-D3Kjjj0N.js";import{A as f,a as l}from"./app-layout-D594Jykp.js";import{E as j}from"./eye-Ts-gdBAj.js";import{C as N}from"./cog-CeAFdTpk.js";import{T as y}from"./trash-2-CPCo6YpB.js";/* empty css            */import"./index-DKfxItpY.js";import"./index-Cs5eqXL-.js";import"./index-C4zk7_bo.js";import"./index-BrZvrmiQ.js";import"./index-Cflb32EF.js";import"./index-CxakdeFI.js";import"./users-DqbY7U1g.js";import"./briefcase-D2j7oob_.js";const g=[{title:"Admin Dashboard",href:l.dashboard().url},{title:"Assigned Tasks",href:l.assignedTasks.index().url}],v=s=>{switch(s){case"completed":return"default";case"in_progress":return"secondary";case"cancelled":return"destructive";case"pending":default:return"outline"}};function U({assignedTasks:s,is_technician:r=!1}){const o=t=>{confirm("Are you sure you want to delete this assigned task?")&&n.delete(l.assignedTasks.destroy({assigned_task:t}).url)};return e.jsxs(f,{breadcrumbs:g,children:[e.jsx(c,{title:"Assigned Tasks"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r?"My Assigned Tasks":"Assigned Tasks"}),e.jsx("p",{className:"text-muted-foreground",children:r?"View and update your assigned tasks":"Manage tasks assigned to technicians"})]})}),e.jsxs(x,{children:[e.jsx(u,{children:e.jsxs(h,{children:["All Assigned Tasks (",s.total,")"]})}),e.jsxs(p,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Service Request"}),!r&&e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Technician"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Scheduled Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Completed"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:s.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:r?5:6,className:"px-4 py-8 text-center text-sm text-muted-foreground",children:"No assigned tasks found"})}):s.data.map(t=>e.jsxs("tr",{className:"border-b transition-colors hover:bg-accent/50",children:[e.jsxs("td",{className:"px-4 py-3 text-sm font-medium",children:[t.task?.service_request?.name||"N/A",e.jsx("div",{className:"text-xs text-muted-foreground",children:t.task?.service_request?.service})]}),!r&&e.jsx("td",{className:"px-4 py-3 text-sm",children:t.task?.technician?.name||"Unassigned"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(m,{variant:v(t.status),children:t.status.replace("_"," ")})}),e.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:t.task?.scheduled_date?new Date(t.task.scheduled_date).toLocaleDateString():"Not scheduled"}),e.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:t.completed_at?new Date(t.completed_at).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(d,{href:l.assignedTasks.show({assigned_task:t.id}).url,children:e.jsx(a,{variant:"ghost",size:"sm",children:e.jsx(j,{className:"h-4 w-4"})})}),r&&t.status!=="completed"&&t.status!=="cancelled"&&e.jsx(d,{href:l.assignedTasks.edit({assigned_task:t.id}).url,children:e.jsx(a,{variant:"ghost",size:"sm",children:e.jsx(N,{className:"h-4 w-4"})})}),!r&&t.status!=="completed"&&e.jsx(a,{variant:"ghost",size:"sm",onClick:()=>o(t.id),children:e.jsx(y,{className:"h-4 w-4 text-destructive"})})]})})]},t.id))})]})}),s.last_page>1&&e.jsxs("div",{className:"mt-6 flex items-center justify-between border-t pt-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",s.from," to"," ",s.to," of ",s.total," ","results"]}),e.jsx("div",{className:"flex gap-2",children:s.links.map((t,i)=>t.url?e.jsx(d,{href:t.url,children:e.jsx(a,{variant:t.active?"default":"outline",size:"sm",dangerouslySetInnerHTML:{__html:t.label}})},i):e.jsx(a,{variant:"outline",size:"sm",disabled:!0,dangerouslySetInnerHTML:{__html:t.label}},i))})]})]})]})]})]})}export{U as default};
