import{j as e,H as g,L as c,a as N}from"./app-DU_Uqt_7.js";import{B as m}from"./badge-B385rnuS.js";import{B as d}from"./index-C4Wi5Few.js";import{C as r,a as i,b as a,d as o,c as n}from"./card-Cv2gufsc.js";import{a as t,A as v}from"./app-layout-Dqrvh0ER.js";import{A as w}from"./arrow-left-BLUXxQID.js";import{S as C}from"./square-pen-8gTZVU1K.js";import{T as y}from"./trash-2-CH6PtHcp.js";import{C as x}from"./calendar-D1wiBODA.js";import{U as S}from"./user-BzpEZGgG.js";import{F as T}from"./file-text-D1vVyx2n.js";import{C as u}from"./clock-DavXxJeX.js";import{C as q}from"./circle-x-CCjL_kLm.js";import{C as D}from"./circle-check-big-Cfk0jqjD.js";/* empty css            */import"./index-CbIKs6W5.js";import"./index-DXyGKaGY.js";import"./index-BufbPJzO.js";import"./index-B-oI3T1w.js";import"./index-M91RncAE.js";import"./index-CxakdeFI.js";import"./users-DiQ_qV7b.js";import"./briefcase-CIZ3dIis.js";const R=s=>{switch(s){case"completed":return"default";case"in_progress":return"secondary";case"cancelled":return"destructive";case"pending":default:return"outline"}},b=s=>{switch(s){case"completed":return e.jsx(D,{className:"h-5 w-5 text-green-500"});case"in_progress":return e.jsx(u,{className:"h-5 w-5 text-blue-500"});case"cancelled":return e.jsx(q,{className:"h-5 w-5 text-red-500"});case"pending":default:return e.jsx(u,{className:"h-5 w-5 text-yellow-500"})}};function k({task:s,is_manager:h}){const j=[{title:"Tasks",href:t.tasks.index().url},{title:`Task #${s.id.substring(0,8)}`,href:t.tasks.show({task:s.id}).url}],p=s.assigned_tasks?.some(l=>l.status==="cancelled"||l.status==="completed"),f=()=>{confirm("Are you sure you want to delete this task?")&&N.delete(t.tasks.destroy({task:s.id}).url)};return e.jsxs(v,{breadcrumbs:j,children:[e.jsx(g,{title:`Task #${s.id.substring(0,8)}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(c,{href:t.tasks.index().url,children:e.jsx(d,{variant:"outline",size:"icon",children:e.jsx(w,{className:"h-4 w-4"})})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["Task #",s.id.substring(0,8)]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Task Details"})]})]}),e.jsx("div",{className:"flex gap-2",children:h&&!p&&e.jsxs(e.Fragment,{children:[e.jsx(c,{href:t.tasks.edit({task:s.id}).url,children:e.jsxs(d,{variant:"outline",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Edit"]})}),e.jsxs(d,{variant:"destructive",onClick:f,children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Delete"]})]})})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(r,{children:[e.jsxs(i,{children:[e.jsx(a,{children:"Task Information"}),e.jsx(o,{children:"Current status and details"})]}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[b(s.status),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Status"}),e.jsx(m,{variant:R(s.status),children:s.status.replace("_"," ")})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(x,{className:"mt-0.5 h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Scheduled Date"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.scheduled_date?new Date(s.scheduled_date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Not scheduled"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(x,{className:"mt-0.5 h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Created At"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(s.created_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s.created_at).toLocaleTimeString()})]})]})]})]}),e.jsxs(r,{children:[e.jsxs(i,{children:[e.jsx(a,{children:"Assignment Details"}),e.jsx(o,{children:"Technician and service information"})]}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(S,{className:"mt-0.5 h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Assigned Technician"}),s.technician?e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s.technician.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.technician.email})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Unassigned"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(T,{className:"mt-0.5 h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Service Request"}),s.serviceRequest?e.jsxs(c,{href:t.serviceRequests.show({serviceRequest:s.serviceRequest.id}).url,className:"text-sm text-primary hover:underline",children:[s.serviceRequest.name," -"," ",s.serviceRequest.service]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No service request"})]})]})]})]})]}),s.serviceRequest&&e.jsxs(r,{children:[e.jsx(i,{children:e.jsx(a,{children:"Service Request Details"})}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm font-medium",children:"Service Type"}),e.jsx(m,{variant:"outline",children:s.serviceRequest.service})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm font-medium",children:"Client Name"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.serviceRequest.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm font-medium",children:"Description"}),e.jsx("p",{className:"text-sm whitespace-pre-wrap text-muted-foreground",children:s.serviceRequest.description})]})]})]}),s.comments&&e.jsxs(r,{children:[e.jsx(i,{children:e.jsx(a,{children:"Comments"})}),e.jsx(n,{children:e.jsx("p",{className:"text-sm whitespace-pre-wrap text-muted-foreground",children:s.comments})})]})]})]})}export{k as default};
